#pragma once
#include <sys/socket.h>
#include <sys/un.h>
#include <string>
#include <unistd.h>
#include <filesystem>

#ifndef SCAN_SERVICE_SERVER_UN_H
#define SCAN_SERVICE_SERVER_UN_H

#define BUFLEN 1024

class Server_un {
    int sockfd_;
    char buf_[BUFLEN];
    int connectfd_;
    struct sockaddr_un sa_;
public:
    explicit Server_un(const std::string& init_file);
    ~Server_un();
    void accept();
    void disconnect();
    std::string recv();
    void send(const std::string& msg);









};


#endif //SCAN_SERVICE_SERVER_UN_H

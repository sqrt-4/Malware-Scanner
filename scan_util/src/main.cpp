#include <iostream>
#include "Scanner.h"
#include <filesystem>


int main(int argc, char** argv) {

   if (argc != 2) {
        std::cerr << "Invalid number of parameters!\n";
        return -1;
    }
    std::string dir_path = argv[1];
    if (!std::filesystem::is_directory(dir_path)) {
        std::cerr << "\"" << dir_path << "\" is not a directory\n";
        return -1;
    }

    Scanner scanner;
    scanner.scan_dir(dir_path);
    std::cout << scanner.print_results();

    return 0;
}
